const LOCALID_ARCHIE = 1
const LOCALID_MAXIE = 2
const LOCALID_TABITHA = 3
const LOCALID_MAGMA_GRUNT_3 = 3
const LOCALID_MAGMA_GRUNT_4 = 4
const LOCALID_AQUA_GRUNT_1  = 6
const LOCALID_AQUA_GRUNT_2  = 7
const LOCALID_AQUA_GRUNT_3  = 8
const LOCALID_AQUA_GRUNT_4  = 9
const LOCALID_MAGMA_GRUNT_2 = 22
const LOCALID_MAGMA_GRUNT_1 = 29
const LOCALID_COURTNEY = 31
const LOCALID_DELTA_1 = 32
const LOCALID_DELTA_2 = 33
const LOCALID_GROUDON = 34

mapscripts MtChimney_MapScripts {
	MAP_SCRIPT_ON_RESUME {
		setstepcallback (STEP_CB_ASH)
		return
	}
	MAP_SCRIPT_ON_TRANSITION{
		setvar (VAR_JAGGED_PASS_ASH_WEATHER, 1)
		switch (var(VAR_MT_CHIMNEY_STATE)) {
			case 2:
				call (MtChimney_OnTransition_PrepareTeamMagmaCheating)
				break
			case 3:
				call (MtChimney_OnTransition_PrepareDelta)
				break
			case 5:
				call (MtChimney_OnTransition_PrepareGroudon)
				break
			case 10:
				call (MtChimney_OnTransition_PrepareMaxieFreakOut)
		}
	} 
	MAP_SCRIPT_ON_FRAME_TABLE [
		VAR_MT_CHIMNEY_STATE, 3  {
			lockall
			special (SpawnCameraObject)
			applymovement (OBJ_EVENT_ID_CAMERA, MtChimney_Movement_CameraPanToDelta)
			applymovement (OBJ_EVENT_ID_PLAYER, Common_Movement_FaceRight)
			namebox(Unknown)
			msgbox(MtChimney_Text_DeltaPlan1)
			msgbox(MtChimney_Text_DeltaPlan2)
			waitmovement (0)
			applymovement (LOCALID_DELTA_2, MtChimney_Movement_DeltaWalkAway3)
			applymovement (LOCALID_DELTA_1, MtChimney_Movement_DeltaBlockWay)
			applymovement (OBJ_EVENT_ID_CAMERA, MtChimney_Movement_SortaFollowDelta)
			closemessage
			hidenamebox
			waitmovement(0)
			setobjectxy (OBJ_EVENT_ID_PLAYER, 26, 39)
			applymovement (OBJ_EVENT_ID_PLAYER, MtChimney_Movement_PlayerArrive2)
			delay(48)
			namebox(Unknown)
			msgbox(MtChimney_Text_DeltaYouCantPass)
			waitmovement(0)
			closemessage
			hidenamebox
			addobject (LOCALID_DELTA_2)
			applymovement(LOCALID_DELTA_2, MtChimney_Movement_DeltaWalkAway2)
			delay (48)
			namebox(Unknown)
			msgbox(MtChimney_Text_DeltaWereDoneHere)
			waitmovement (LOCALID_DELTA_2)
			closemessage
			hidenamebox
			fadescreen (FADE_TO_BLACK)
			delay(16)
			removeobject(LOCALID_DELTA_1)
			removeobject(LOCALID_DELTA_2)
			setobjectxyperm(LOCALID_DELTA_1, 40, 0)
			setobjectxyperm(LOCALID_DELTA_2, 40, 0)
			setobjectxyperm(LOCALID_MAXIE, 26, 38)
			setobjectxyperm(LOCALID_MAGMA_GRUNT_1, 25, 38)
			setobjectxyperm(LOCALID_MAGMA_GRUNT_2, 27, 38)
			addobject (LOCALID_MAXIE)
			addobject (LOCALID_MAGMA_GRUNT_1)
			addobject (LOCALID_MAGMA_GRUNT_2)
			fadescreen(FADE_FROM_BLACK)
			delay(16)
			namebox(Unknown)
			msgbox(MtChimney_Text_MaxieArrive)
			delay (8)
			playse(SE_PIN)
			applymovement(OBJ_EVENT_ID_PLAYER, Common_Movement_ExclamationMark)
			waitmovement(0)
			playbgm(MUS_ENCOUNTER_MAGMA, FALSE)
			delay (8)
			closemessage
			hidenamebox
			applymovement(OBJ_EVENT_ID_PLAYER, Common_Movement_WalkInPlaceDown)
			applymovement(LOCALID_MAXIE, MtChimney_Movement_PlayerArrive)
			waitmovement(0)
			namebox(Unknown)
			msgbox(MtChimney_Text_MaxieWhoAreYou)
			delay(32)
			applymovement(LOCALID_MAGMA_GRUNT_1, MtChimney_Movement_PlayerArrive)
			delay(8)
			applymovement(LOCALID_MAGMA_GRUNT_2, MtChimney_Movement_PlayerArrive)
			waitmovement (0)
			closemessage
			hidenamebox
			trainerbattle_no_intro (TRAINER_MAXIE_MT_CHIMNEY, MtChimney_Text_MaxieDefeat)
			playse (SE_PIN)
			applymovement (LOCALID_MAXIE, Common_Movement_ExclamationMark)
			waitmovement (0)
			applymovement (LOCALID_MAXIE, Common_Movement_FaceAwayPlayer)
			waitmovement (0)
			namebox (Magma)
			applymovement (LOCALID_MAGMA_GRUNT_1, Common_Movement_WalkInPlaceUp)
			msgbox(MtChimney_Text_MagmaGruntMaxieLost1)
			waitmovement (0)
			applymovement (LOCALID_MAGMA_GRUNT_2, Common_Movement_WalkInPlaceUp)
			msgbox(MtChimney_Text_MagmaGruntMaxieLost2)
			waitmovement (0)
			namebox(Maxie)
			msgbox(MtChimney_Text_MaxieIllSucceedAnyways)
			delay (24)
			applymovement(LOCALID_MAXIE, Common_Movement_WalkInPlaceUp)
			waitmovement (0)
			closemessage
			hidenamebox
			applymovement (LOCALID_MAXIE, MtChimney_Movement_MaxieGoesToMachine)
			applymovement (OBJ_EVENT_ID_PLAYER, MtChimney_Movement_PlayerGetOut)
			waitmovement (LOCALID_MAXIE)
			delay(16)
			namebox(Maxie)
			msgbox(MtChimney_Text_MaxieMachineNotWork)
			setobjectxyperm(LOCALID_ARCHIE, 26, 38)
			setobjectxyperm(LOCALID_AQUA_GRUNT_1, 25, 39)
			setobjectxyperm(LOCALID_AQUA_GRUNT_2, 27, 39)
			addobject (LOCALID_ARCHIE)
			addobject (LOCALID_AQUA_GRUNT_1)
			addobject (LOCALID_AQUA_GRUNT_2)
			namebox(Archie)
			msgbox(MtChimney_Text_ArchieArrives)
			hidenamebox
			closemessage
			applymovement(LOCALID_ARCHIE, MtChimney_Movement_PlayerArrive)
			waitmovement(LOCALID_ARCHIE)
			applymovement(LOCALID_MAXIE, MtChimney_Movement_DeltaWalkAway2)
			delay(8)
			applymovement(LOCALID_AQUA_GRUNT_1, MtChimney_Movement_PlayerArrive)
			delay(4)
			applymovement(LOCALID_AQUA_GRUNT_2, MtChimney_Movement_PlayerArrive)
			waitmovement(LOCALID_MAXIE)
			delay(24)
			applymovement (OBJ_EVENT_ID_CAMERA, MtChimney_Movement_CameraPanToArchie)
			namebox(Maxie)
			msgbox(MtChimney_Text_MaxieWhatDoYouWant, MSGBOX_INTERRUPT)
			waitmovement(OBJ_EVENT_ID_CAMERA)
			namebox(Archie)
			msgbox(MtChimney_Text_ArchieWhoDidThat)
			namebox(Maxie)
			msgbox(MtChimney_Text_MaxieWhat)
			namebox(Archie)
			msgbox(MtChimney_Text_ArchieSomethingsUp)
			namebox(Maxie)
			msgbox(MtChimney_Text_MaxieDelightful)
			fadescreen (FADE_TO_BLACK)
			delay (16)
			applymovement (OBJ_EVENT_ID_CAMERA, MtChimney_Movement_CameraPanToPlayer)
			waitmovement (0)
			setobjectxy (LOCALID_ARCHIE, 26, 31)
			removeobject (LOCALID_MAXIE)
			removeobject (LOCALID_MAGMA_GRUNT_1)
			removeobject (LOCALID_MAGMA_GRUNT_2)
			applymovement (LOCALID_ARCHIE, Common_Movement_FaceDown)
			waitmovement (0)
			fadescreen (FADE_FROM_BLACK)
			delay (16)
			namebox (Archie)
			msgbox (MtChimney_Text_OhMaxie)
			applymovement(LOCALID_ARCHIE, Common_Movement_WalkInPlaceUp)
			msgbox (MtChimney_Text_ArchieThankYou, MSGBOX_DEFAULT)
			waitmovement (0)
			applymovement (LOCALID_ARCHIE, Common_Movement_WalkInPlaceDown)
			waitmovement(0)
			applymovement (LOCALID_ARCHIE, MtChimney_Movement_LookAround)
			msgbox(MtChimney_Text_ArchieTellsGrunts)
			waitmovement(0)
			namebox(Aqua)
			msgbox(MtChimney_Text_WeLoveYouArchie)
			closemessage
			hidenamebox
			fadescreen(FADE_TO_BLACK)
			delay(16)
			removeobject (LOCALID_ARCHIE)
			removeobject (LOCALID_AQUA_GRUNT_1)
			removeobject (LOCALID_AQUA_GRUNT_2)
			setflag (FLAG_HIDE_MT_CHIMNEY_TEAM_MAGMA)
			setflag (FLAG_HIDE_MT_CHIMNEY_TEAM_AQUA)
			setflag (FLAG_DEFEATED_EVIL_TEAM_MT_CHIMNEY)
			clearflag (FLAG_HIDE_FALLARBOR_HOUSE_PROF_COZMO)
			setflag (FLAG_HIDE_METEOR_FALLS_1F_1R_COZMO)
			clearflag (FLAG_HIDE_MT_CHIMNEY_LAVA_COOKIE_LADY)
			addobject(9)
			setvar(VAR_MT_CHIMNEY_STATE, 4)
			fadescreen(FADE_FROM_BLACK)
			releaseall
			end
		}
		VAR_MT_CHIMNEY_STATE, 5 {
			lockall
			fadescreen(FADE_FROM_BLACK)
			special(SpawnCameraObject)
			applymovement(25, Common_Movement_WalkDown)
			applymovement(25, Common_Movement_SetInvisible)
			waitmovement(0)
			applymovement(9, Common_Movement_FaceUp)
			applymovement(26, Common_Movement_WalkDown)
			applymovement(9, Common_Movement_FaceRight)
			applymovement(26, Common_Movement_WalkDown)
			waitmovement(0)
			applymovement (26, Common_Movement_SetInvisible)
			waitmovement(0)
			applymovement(9, Common_Movement_FaceUp)
			applymovement(27, Common_Movement_WalkDown2)
			applymovement(9, Common_Movement_FaceRight)
			applymovement(27, Common_Movement_WalkDown)
			waitmovement(0)
			applymovement (27, Common_Movement_SetInvisible)
			waitmovement(0)
			applymovement(9, Common_Movement_FaceUp)
			applymovement(28, Common_Movement_WalkLeft)
			waitmovement(0)
			applymovement(28, Common_Movement_WalkDown2)
			applymovement(9, Common_Movement_FaceRight)
			applymovement(28, Common_Movement_WalkDown)
			waitmovement(0)
			applymovement (28, Common_Movement_SetInvisible)
			waitmovement(0)
			applymovement(9, Common_Movement_FaceUp)
			applymovement(29, Common_Movement_WalkLeft2)
			waitmovement(0)
			applymovement(29, Common_Movement_WalkDown2)
			applymovement(9, Common_Movement_FaceRight)
			applymovement(29, Common_Movement_WalkDown)
			waitmovement(0)
			applymovement (29, Common_Movement_SetInvisible)
			waitmovement(0)
			applymovement(9, Common_Movement_FaceUp)
			applymovement (30, MtChimney_Movement_NPCWalkToWarp)
			applymovement (9, MtChimney_Movement_WatchNPCWalkToWarp)
			applymovement (OBJ_EVENT_ID_CAMERA, MtChimney_Movement_PanToGroudon)
			waitmovement (OBJ_EVENT_ID_CAMERA)
			delay(32)
			playmoncry(SPECIES_GROUDON, CRY_MODE_NORMAL)
			msgbox(format("{SHAKE_SCREEN 8 10 3 0}Â¡GROUUUUUUUDON!")) //PAN, NUM SHAKES, DELAY, PLAYSE
			waitmoncry
			clearflag(FLAG_SPAWN_INVISIBLE)
			setvar(VAR_MT_CHIMNEY_STATE, 6)
			setvar(VAR_LAVARIDGE_TOWN_STATE, 3)
			warp(MAP_JAGGED_PASS, 16, 19)
			releaseall
			end
		}
	]
}

script MtChimney_OnTransition_PrepareGroudon {
	setobjectxyperm (25, 21, 40)
	setobjectmovementtype (25, MOVEMENT_TYPE_FACE_DOWN)
	setobjectxyperm (26, 21, 39)
	setobjectmovementtype (26, MOVEMENT_TYPE_FACE_DOWN)
	setobjectxyperm (27, 21, 38)
	setobjectmovementtype (27, MOVEMENT_TYPE_FACE_DOWN)
	setobjectxyperm (28, 22, 38)
	setobjectmovementtype (28, MOVEMENT_TYPE_FACE_LEFT)
	setobjectxyperm (29, 23, 38)
	setobjectmovementtype (29, MOVEMENT_TYPE_FACE_LEFT)
	setobjectxyperm (9, 20, 40)
	setobjectxyperm (LOCALID_GROUDON, 20, 6)
	addobject(9)
	addobject(25)
	addobject(26)
	addobject(27)
	addobject(28)
	addobject(29)
	addobject(30)
	addobject(LOCALID_GROUDON)
	return
}

script MtChimney_OnTransition_PrepareMaxieFreakOut {
	setobjectxyperm(LOCALID_COURTNEY, 12, 6)
	setobjectxyperm(LOCALID_TABITHA, 13, 7)
	setobjectmovementtype(LOCALID_TABITHA, MOVEMENT_TYPE_FACE_UP)
	addobject(LOCALID_COURTNEY)
	addobject(LOCALID_TABITHA)
}

script MtChimney_EventScript_Trigger3 {
	lockall
	applymovement(OBJ_EVENT_ID_PLAYER, Common_Movement_WalkInPlaceRight)
	applymovement(LOCALID_MAXIE, Common_Movement_WalkInPlaceDown)
	waitmovement (0)
	applymovement(LOCALID_MAXIE, Common_Movement_WalkInPlaceFasterLeft)
	waitmovement (0)
	applymovement(LOCALID_MAXIE, Common_Movement_WalkInPlaceDown)
	waitmovement (0)
	namebox(Maxie)
	msgbox(MtChimney_Text_MaxieFreakOut)
	applymovement(LOCALID_TABITHA, Common_Movement_WalkInPlaceUp)
	waitmovement (0)
	namebox(Tabitha)
	msgbox(MtChimney_Text_TabithaWeDontKnow)
	applymovement(LOCALID_COURTNEY, Common_Movement_WalkInPlaceRight)
	waitmovement (0)
	namebox(Courtney)
	msgbox(MtChimney_Text_CourtneySolution)
	applymovement(LOCALID_MAXIE, Common_Movement_WalkInPlaceDown)
	waitmovement (0)
	applymovement(LOCALID_MAXIE, Common_Movement_WalkInPlaceFasterLeft)
	waitmovement (0)
	applymovement(LOCALID_MAXIE, Common_Movement_WalkInPlaceDown)
	waitmovement (0)
	namebox(Maxie)
	msgbox(MtChimney_Text_MaxieFreakOut2)
	hidenamebox
	closemessage
	namebox(Player)
	msgbox(Common_Text_Realization)
	hidenamebox
	closemessage
	playse(SE_PIN)
	applymovement(LOCALID_MAXIE, Common_Movement_ExclamationMark)
	applymovement(LOCALID_COURTNEY, Common_Movement_ExclamationMark)
	applymovement(LOCALID_TABITHA, Common_Movement_ExclamationMark)
	waitmovement (0)
	applymovement(LOCALID_MAXIE, Common_Movement_WalkInPlaceFasterLeft)
	applymovement(LOCALID_COURTNEY, Common_Movement_WalkInPlaceFasterLeft)
	applymovement(LOCALID_TABITHA, Common_Movement_WalkInPlaceFasterLeft)
	waitmovement (0)
	applymovement(OBJ_EVENT_ID_PLAYER, Common_Movement_ExclamationMark)
	waitmovement (0)
	namebox(Maxie)
	msgbox(MtChimney_Text_MaxieNoticePlayer)
	hidenamebox
	closemessage
	fadescreen(FADE_TO_WHITE)
	namebox(Unknown)
	msgbox(MtChimney_Text_ArchieAsIf)
	hidenamebox
	closemessage
	setobjectxyperm(LOCALID_ARCHIE, 10, 6)
	setobjectmovementtype(LOCALID_ARCHIE, MOVEMENT_TYPE_FACE_RIGHT)
	addobject(LOCALID_ARCHIE)
	delay(16)
	fadescreen(FADE_FROM_WHITE)
	namebox(Archie)
	msgbox(MtChimney_Text_ArchieBattleWithPlayer)
	call (MtChimney_EventScript_PrepareMultiBattle)
	multi_fixed_2_vs_1 (TRAINER_MAXIE_MAGMA_HIDEOUT, MtChimney_Text_MaxieDefeat, TRAINER_ARCHIE_ALLY, TRAINER_BACK_PIC_RED)
	specialvar (VAR_RESULT, GetBattleOutcome)
    if (var(VAR_RESULT) == B_OUTCOME_LOST){
		goto (MtChimney_EventScript_LostMaxieMultiBattle)
	}
	applymovement (OBJ_EVENT_ID_PLAYER, Common_Movement_FaceUp)
	applymovement (LOCALID_ARCHIE, Common_Movement_FaceDown)
	waitmovement (0)
	namebox(Archie)
	msgbox(MtChimney_Text_ArchieKnewYouCould)
	applymovement(LOCALID_ARCHIE, Common_Movement_WalkInPlaceRight)
	applymovement(LOCALID_MAXIE, Common_Movement_WalkInPlaceLeft)
	waitmovement(0)
	namebox(Maxie)
	msgbox(MtChimney_Text_MaxieWhatDoYouWant, MSGBOX_INTERRUPT)
	namebox(Archie)
	msgbox(MtChimney_Text_ArchieWhoDidThat)
	namebox(Maxie)
	msgbox(MtChimney_Text_MaxieWhat)
	namebox(Archie)
	msgbox(MtChimney_Text_ArchieSomethingsUp)
	namebox(Maxie)
	msgbox(MtChimney_Text_MaxieDelightful)
	fadescreen (FADE_TO_BLACK)
	delay (16)
	setobjectxy (LOCALID_ARCHIE, 9, 7)
	applymovement(OBJ_EVENT_ID_PLAYER, Common_Movement_WalkInPlaceDown)
	waitmovement(0)
	removeobject (LOCALID_MAXIE)
	removeobject (LOCALID_MAGMA_GRUNT_1)
	removeobject (LOCALID_MAGMA_GRUNT_2)
	applymovement (LOCALID_ARCHIE, Common_Movement_FaceDown)
	waitmovement (0)
	fadescreen (FADE_FROM_BLACK)
	delay (16)
	namebox (Archie)
	msgbox (MtChimney_Text_OhMaxie)
	applymovement(LOCALID_ARCHIE, Common_Movement_WalkInPlaceRight)
	applymovement(OBJ_EVENT_ID_PLAYER, Common_Movement_WalkInPlaceLeft)
	msgbox (MtChimney_Text_ArchieThankYou, MSGBOX_DEFAULT)
	waitmovement (0)
	applymovement (LOCALID_ARCHIE, Common_Movement_WalkInPlaceDown)
	waitmovement(0)
	applymovement (LOCALID_ARCHIE, MtChimney_Movement_LookAround)
	msgbox(MtChimney_Text_ArchieTellsGrunts)
	waitmovement(0)
	namebox(Aqua)
	msgbox(MtChimney_Text_WeLoveYouArchie)
	closemessage
	hidenamebox
	fadescreen(FADE_TO_BLACK)
	delay(16)
	removeobject (LOCALID_ARCHIE)
	removeobject (LOCALID_AQUA_GRUNT_1)
	removeobject (LOCALID_AQUA_GRUNT_2)
	setflag (FLAG_HIDE_MT_CHIMNEY_TEAM_MAGMA)
	setflag (FLAG_HIDE_MT_CHIMNEY_TEAM_AQUA)
	setflag (FLAG_DEFEATED_EVIL_TEAM_MT_CHIMNEY)
	clearflag (FLAG_HIDE_FALLARBOR_HOUSE_PROF_COZMO)
	setflag (FLAG_HIDE_METEOR_FALLS_1F_1R_COZMO)
	clearflag (FLAG_HIDE_MT_CHIMNEY_LAVA_COOKIE_LADY)
	addobject(9)
	setvar(VAR_MT_CHIMNEY_STATE, 4)
	fadescreen(FADE_FROM_BLACK)
	releaseall
	end
}

script MtChimney_EventScript_LostMaxieMultiBattle {
	setvar (VAR_MT_CHIMNEY_STATE, 10)
	fadescreen (FADE_TO_BLACK)
	special (SetCB2WhiteOut)
	releaseall
	end
}

movement MtChimney_Movement_PanToGroudon {
	walk_up*34
}

movement MtChimney_Movement_NPCWalkToWarp {
	walk_left*3
	walk_down*3
	set_invisible
}
movement MtChimney_Movement_WatchNPCWalkToWarp {
	delay_8*5
	face_right
	face_down
	delay_8
	face_up
	delay_16
	walk_down
	set_invisible
}

movement MtChimney_Movement_CameraPanToDelta {
	walk_diag_northeast * 2
}

movement MtChimney_Movement_SortaFollowDelta {
	walk_diag_northeast * 4
	walk_right * 2
}

movement MtChimney_Movement_DeltaWalkAway {
	walk_right * 2
	walk_up * 10
	walk_left * 6
	walk_up * 3
}

movement MtChimney_Movement_DeltaWalkAway3 {
	walk_right * 2
	walk_up * 8
	walk_left * 6
	walk_up * 3
}

movement MtChimney_Movement_DeltaBlockWay {
	walk_right * 3
	walk_up * 4
	walk_in_place_down
}

movement MtChimney_Movement_PlayerArrive2 {
	walk_up * 7
}

movement MtChimney_Movement_PlayerArrive {
	walk_up * 5
}

movement MtChimney_Movement_DeltaWalkAway2 {
	walk_down * 3
	walk_right * 6
	walk_down * 5
}


movement MtChimney_Movement_MaxieGoesToMachine {
	walk_up * 8
	walk_left * 6
	walk_up * 3
}

movement MtChimney_Movement_CameraPanToArchie {
	walk_right * 2
	walk_down * 4

}
movement MtChimney_Movement_CameraPanToPlayer {
	walk_right
	walk_up * 3
}

movement MtChimney_Movement_PlayerGetOut {
	delay_8
	lock_facing_direction
	walk_up
	unlock_facing_direction
	face_right
	lock_facing_direction
	walk_left
	unlock_facing_direction
	walk_in_place_up
}

movement MtChimney_Movement_LookAround {
	walk_in_place_left
	delay_16
	walk_in_place_down
	delay_16
	walk_in_place_right
	delay_16
	walk_in_place_down
}


raw `
.set LOCALID_ARCHIE, 1
.set LOCALID_MAXIE, 2
.set LOCALID_TABITHA, 3
.set LOCALID_MAGMA_GRUNT_3, 3
.set LOCALID_MAGMA_GRUNT_4, 4
.set LOCALID_AQUA_GRUNT_1 , 6
.set LOCALID_AQUA_GRUNT_2 , 7
.set LOCALID_AQUA_GRUNT_3 , 8
.set LOCALID_AQUA_GRUNT_4 , 9
.set LOCALID_MAGMA_GRUNT_2, 22
.set LOCALID_MAGMA_GRUNT_1, 29
.set LOCALID_COURTNEY, 31
.set LOCALID_DELTA_1, 32
.set LOCALID_DELTA_2, 33


MtChimney_OnTransition_PrepareDelta::
	setflag FLAG_HIDE_MT_CHIMNEY_TRAINERS
	setflag FLAG_HIDE_MT_CHIMNEY_LAVA_COOKIE_LADY
	setflag FLAG_HIDE_MT_CHIMNEY_TEAM_MAGMA
	setflag FLAG_HIDE_MT_CHIMNEY_TEAM_AQUA
	setobjectxyperm LOCALID_DELTA_1, 23, 35
	setobjectxyperm LOCALID_DELTA_2, 24, 35
	addobject LOCALID_DELTA_1
	addobject LOCALID_DELTA_2
	setobjectmovementtype LOCALID_DELTA_2, MOVEMENT_TYPE_FACE_LEFT
	setobjectmovementtype LOCALID_DELTA_1, MOVEMENT_TYPE_FACE_RIGHT
	return

MtChimney_OnTransition_PrepareTeamMagmaCheating::
	setobjectxyperm 17, 30, 10
	addobject 17
	setobjectxyperm 15, 31, 6
	addobject 15
	setobjectmovementtype 17, MOVEMENT_TYPE_FACE_DOWN
	setobjectmovementtype 15, MOVEMENT_TYPE_WALK_IN_PLACE_UP
	setobjectxyperm 16, 31, 7
	addobject 16
	setobjectxyperm 13, 39, 0
	addobject 13
	setobjectxyperm 12, 39, 0
	addobject 12
	setobjectxyperm LOCALID_ARCHIE, 29, 14
	removeobject LOCALID_ARCHIE
	setobjectmovementtype LOCALID_ARCHIE, MOVEMENT_TYPE_FACE_UP
	setobjectxyperm 11, 29, 13
	addobject 11
	setobjectmovementtype 11, MOVEMENT_TYPE_WALK_IN_PLACE_UP
	setobjectxyperm 14, 30, 11
	addobject 14
	setobjectmovementtype 14, MOVEMENT_TYPE_WALK_IN_PLACE_DOWN
	setobjectxyperm LOCALID_TABITHA, 39, 0
	setobjectxyperm LOCALID_COURTNEY, 39, 0
	setobjectxyperm LOCALID_MAGMA_GRUNT_1, 39, 0
	setobjectxyperm LOCALID_MAGMA_GRUNT_2, 39, 0
	removeobject LOCALID_MAGMA_GRUNT_1
	removeobject LOCALID_MAGMA_GRUNT_2
	clearflag FLAG_HIDE_MT_CHIMNEY_TEAM_MAGMA
	clearflag FLAG_HIDE_MT_CHIMNEY_TEAM_AQUA
	return

MtChimney_EventScript_Archie::
	lock
	faceplayer
	call_if_unset FLAG_EVIL_LEADER_PLEASE_STOP, MtChimney_EventScript_ArchieGoStopTeamMagma
	call_if_set FLAG_EVIL_LEADER_PLEASE_STOP, MtChimney_EventScript_ArchieBusyFighting
	closemessage
	applymovement LOCALID_ARCHIE, Common_Movement_FaceOriginalDirection
	waitmovement 0
	setflag FLAG_EVIL_LEADER_PLEASE_STOP
	release
	end

MtChimney_EventScript_ArchieGoStopTeamMagma::
	msgbox MtChimney_Text_ArchieGoStopTeamMagma, MSGBOX_DEFAULT
	return

MtChimney_EventScript_ArchieBusyFighting::
	msgbox MtChimney_Text_ArchieIHaveMyHandsFull, MSGBOX_DEFAULT
	return

MtChimney_EventScript_Maxie::
	lockall
	special SpawnCameraObject
	playbgm MUS_ENCOUNTER_MAGMA, FALSE
	namebox Maxie
	msgbox MtChimney_Text_MeteoriteWillActivateVolcano, MSGBOX_DEFAULT
	hidenamebox
	closemessage
	applymovement LOCALID_MAXIE, Common_Movement_FacePlayer
	waitmovement 0
	playse SE_PIN
	applymovement LOCALID_MAXIE, Common_Movement_ExclamationMark
	waitmovement 0
	applymovement LOCALID_MAXIE, Common_Movement_Delay48
	waitmovement 0
	namebox Maxie
	msgbox MtChimney_Text_MaxieIntro, MSGBOX_DEFAULT
	hidenamebox
	closemessage
	trainerbattle_no_intro TRAINER_MAXIE_MT_CHIMNEY, MtChimney_Text_MaxieDefeat
	playse SE_PIN
	applymovement LOCALID_MAXIE, Common_Movement_ExclamationMark
	waitmovement 0
	applymovement LOCALID_MAXIE, Common_Movement_FaceAwayPlayer
	waitmovement 0
	delay 16
	namebox Maxie
	msgbox MtChimney_Text_MaxieYouHaventSeenLastOfMagma, MSGBOX_DEFAULT
	applymovement LOCALID_MAXIE, Common_Movement_FacePlayer
	waitmovement 0
	msgbox MtChimney_Text_MaxieYouHaventSeenLastOfMagma2, MSGBOX_DEFAULT
	hidenamebox
	closemessage
	delay 30
	fadescreen FADE_TO_BLACK
	removeobject LOCALID_MAXIE
	removeobject LOCALID_MAGMA_GRUNT_1
	removeobject LOCALID_TABITHA
	removeobject LOCALID_COURTNEY
	removeobject LOCALID_MAGMA_GRUNT_2
	setflag FLAG_HIDE_MT_CHIMNEY_TEAM_MAGMA
	setobjectxyperm LOCALID_MAXIE, 11, 7
	addobject LOCALID_MAXIE
	fadescreen FADE_FROM_BLACK
	setobjectxyperm LOCALID_ARCHIE, 10, 12
	addobject LOCALID_ARCHIE
	call_if_eq VAR_FACING, DIR_EAST, MtChimney_EventScript_ArchieApproachPlayerEast
	call_if_eq VAR_FACING, DIR_NORTH, MtChimney_EventScript_ArchieApproachPlayerNorth
	call_if_eq VAR_FACING, DIR_SOUTH, MtChimney_EventScript_ArchieMaxieReunion
	call_if_eq VAR_FACING, DIR_WEST, MtChimney_EventScript_ArchieMaxieReunion
	applymovement OBJ_EVENT_ID_PLAYER, Common_Movement_WalkInPlaceFasterLeft
	waitmovement 0
	msgbox MtChimney_Text_ArchieThankYou, MSGBOX_DEFAULT
	closemessage
	call_if_eq VAR_FACING, DIR_EAST, MtChimney_EventScript_ArchieExitEast
	call_if_eq VAR_FACING, DIR_NORTH, MtChimney_EventScript_ArchieExitNorth
	removeobject LOCALID_ARCHIE
	setflag FLAG_HIDE_MT_CHIMNEY_TEAM_AQUA
	setflag FLAG_DEFEATED_EVIL_TEAM_MT_CHIMNEY
	clearflag FLAG_HIDE_FALLARBOR_HOUSE_PROF_COZMO
	setflag FLAG_HIDE_METEOR_FALLS_1F_1R_COZMO
	clearflag FLAG_HIDE_MT_CHIMNEY_LAVA_COOKIE_LADY
	setvar VAR_MT_CHIMNEY_STATE, 4
	releaseall
	end

MtChimney_EventScript_ArchieApproachPlayerEast::
	call MtChimney_EventScript_ArchieMaxieReunion
	applymovement LOCALID_ARCHIE, MtChimney_Movement_ArchieApproachPlayerEast
	waitmovement 0
	return

MtChimney_EventScript_ArchieApproachPlayerNorth::
	call MtChimney_EventScript_ArchieMaxieReunion
	applymovement LOCALID_ARCHIE, MtChimney_Movement_ArchieApproachPlayerNorth
	waitmovement 0
	return

MtChimney_EventScript_ArchieExitEast::
	applymovement LOCALID_ARCHIE, MtChimney_Movement_ArchieExitEast
	waitmovement 0
	return

MtChimney_EventScript_ArchieExitNorth::
	applymovement LOCALID_ARCHIE, MtChimney_Movement_ArchieExitNorth
	waitmovement 0
	return

MtChimney_EventScript_ArchieMaxieReunion::
	applymovement LOCALID_ARCHIE, MtChimney_Movement_ArchieGetToMaxie
	applymovement LOCALID_MAXIE, MtChimney_Movement_MaxieGetToArchie
	applymovement OBJ_EVENT_ID_CAMERA, MtChimney_Movement_MaxieGetToArchie
	waitmovement 0
	namebox Maxie
	msgbox MtChimney_Text_MaxieWhatDoYouWant, MSGBOX_INTERRUPT
	namebox Archie
	msgbox MtChimney_Text_ArchieWhoDidThat
	namebox Maxie
	msgbox MtChimney_Text_MaxieWhat
	namebox Archie
	msgbox MtChimney_Text_ArchieSomethingsUp
	namebox Maxie
	msgbox MtChimney_Text_MaxieDelightful
	closemessage
	hidenamebox
	fadescreen FADE_TO_BLACK
	applymovement OBJ_EVENT_ID_CAMERA, Common_Movement_WalkUp
	waitmovement 0
	applymovement OBJ_EVENT_ID_CAMERA, Common_Movement_WalkRight
	waitmovement 0
	delay 16
	removeobject LOCALID_MAXIE
	applymovement LOCALID_ARCHIE, Common_Movement_FaceDown
	waitmovement 0
	fadescreen FADE_FROM_BLACK
	delay 16
	namebox Archie
	msgbox MtChimney_Text_OhMaxie
	closemessage
	hidenamebox
	return

MtChimney_Text_MaxieWhatDoYouWant:
	.string "Archie.\p"
	.string "Â¿QuÃ© es lo que quieres?\n"
	.string "Â¿EstÃ¡s aquÃ­ para burlarte de mÃ­, del\l"
	.string "fracaso de mi Equipo?\p"
	.string "Porque si es asÃ­, debo recordarte qu-{PAUSE 32}$"

MtChimney_Text_ArchieWhoDidThat:
	.string "No hay tiempo para eso, bacalao.\pTÃº no te dejarÃ­as arruinar asÃ­.\n"
	.string "Â¿QuÃ© le pasÃ³ a esa mÃ¡quina, y quiÃ©n fue\l"
	.string "el filibustero que lo hizo?$"

MtChimney_Text_MaxieWhat:
	.string "â¦{PAUSE 16}â¦{PAUSE 8}Â¿Fâ¦{PAUSE 16}Fili-quÃ©?{PAUSE 16} Â¿â¦Bacalao?\n"
	.string "En cualquier caso, no es algo que te\l"
	.string "incumba, idiota.\p"
	.string "A menosâ¦ Â¿Acaso te ha estado pasando\n"
	.string "lo mismo?$"

MtChimney_Text_ArchieSomethingsUp:
	.string "Aye, aye, atinaste, amigo.\n"
	.string "Algo en estas aguas huele mal, y parece\l"
	.string "que en tierra tambiÃ©n, Â¿eh?\p"
	.string "Creo que tenemos alguien en nuestras\n"
	.string "tripulaciones que nos estÃ¡n queriendo\l"
	.string "hundir, Maxie.$"

MtChimney_Text_MaxieDelightful:
	.string "Â¡Ja! Â¡Jajajaja!\n"
	.string "Pues me deleita escuchar eso, Â¿Sabes?\p"
	.string "Aunque signifique tener contratiempos,\n"
	.string "verte sufrir antes de hundirte es\l"
	.string "delicioso, Archie.\p"
	.string "SÃ³lo espero poder unirme a la diversiÃ³n\n"
	.string "antes de que toques fondo. Hasta luego,\l"
	.string "Archie.$"

MtChimney_Text_OhMaxie:
	.string "Ah, mi Maxieâ¦\n"
	.string "Siempre sintiÃ©ndose tan superior.\p"
	.string "Nunca cambies, Maxie.$"

MtChimney_Movement_ArchieGetToMaxie:
	walk_up
	walk_up
	walk_up
	step_end

MtChimney_Movement_MaxieGetToArchie:
	walk_left
	walk_down
	walk_in_place_down
	step_end

MtChimney_EventScript_LavaCookieLady::
	lock
	faceplayer
	showmoneybox 0, 0
	msgbox MtChimney_Text_LavaCookiesJust200, MSGBOX_YESNO
	goto_if_eq VAR_RESULT, NO, MtChimney_EventScript_DeclineLavaCookie
	checkmoney 200
	goto_if_eq VAR_RESULT, FALSE, MtChimney_EventScript_NotEnoughMoney
	msgbox MtChimney_Text_ThankYouDear, MSGBOX_DEFAULT
	checkitemspace ITEM_LAVA_COOKIE
	call_if_eq VAR_RESULT, TRUE, MtChimney_EventScript_RemoveMoney
	hidemoneybox
	giveitem ITEM_LAVA_COOKIE
	goto_if_eq VAR_RESULT, FALSE, MtChimney_EventScript_BagIsFull
	release
	end

MtChimney_EventScript_BagIsFull::
	msgbox gText_TooBadBagIsFull, MSGBOX_DEFAULT
	@hidemoneybox
	release
	end

MtChimney_EventScript_RemoveMoney::
	removemoney 200
	updatemoneybox
	return

MtChimney_EventScript_DeclineLavaCookie::
	msgbox MtChimney_Text_OhFineThen, MSGBOX_DEFAULT
	hidemoneybox
	release
	end

MtChimney_EventScript_NotEnoughMoney::
	msgbox MtChimney_Text_YouveNotGotTheMoney, MSGBOX_DEFAULT
	hidemoneybox
	release
	end

MtChimney_Movement_ArchieApproachPlayerEast:
	walk_up
	walk_up
	walk_up
	walk_right
	step_end

MtChimney_Movement_ArchieExitEast:
	walk_left
	walk_down
	walk_down
	walk_down
	walk_down
	walk_down
	walk_down
	walk_down
	step_end

MtChimney_Movement_ArchieApproachPlayerNorth:
	walk_up
	walk_up
	walk_right
	walk_right
	step_end

MtChimney_Movement_ArchieExitNorth:
	walk_left
	walk_left
	walk_down
	walk_down
	walk_down
	walk_down
	walk_down
	walk_down
	walk_down
	step_end

MtChimney_EventScript_BusyAquaGrunt1::
	msgbox MtChimney_Text_MagmaOutnumbersUs, MSGBOX_SIGN
	end

MtChimney_EventScript_BusyAquaGrunt2::
	msgbox MtChimney_Text_LessHabitatForWaterPokemon, MSGBOX_SIGN
	end

MtChimney_EventScript_BusyAquaGrunt3::
	msgbox MtChimney_Text_MagmasNameSimilar, MSGBOX_SIGN
	end

MtChimney_EventScript_Trigger1::
	lockall
	setvar VAR_MT_CHIMNEY_STATE, 1
	applymovement OBJ_EVENT_ID_PLAYER, Common_Movement_WalkUp
	waitmovement 0
	playse SE_PIN
	applymovement LOCALID_TABITHA, Common_Movement_ExclamationMark
	applymovement OBJ_EVENT_ID_PLAYER, Common_Movement_FaceRight
	waitmovement 0
	playbgm TRAINER_ENCOUNTER_MUSIC_MAGMA, FALSE
	namebox Tabitha
	msgbox MtChimney_Text_TabithaIntro
	closemessage
	hidenamebox
	playse SE_PIN
	applymovement LOCALID_COURTNEY, Common_Movement_ExclamationMark
	applymovement OBJ_EVENT_ID_PLAYER, Common_Movement_FaceLeft
	waitmovement 0
	namebox Courtney
	msgbox MtChimney_Text_CourtneyIntro
	closemessage
	hidenamebox
	applymovement LOCALID_COURTNEY, Common_Movement_WalkRight
	waitmovement 0
	fadedefaultbgm
	namebox Unknown
	msgbox MtChimney_Text_ArchieStop
	closemessage
	hidenamebox
	setobjectxyperm LOCALID_ARCHIE, 11, 17
	call MtChimney_EventScript_Trigger
	applymovement LOCALID_ARCHIE, Common_Movement_WalkLeft
	applymovement OBJ_EVENT_ID_PLAYER, Common_Movement_WalkDown
	waitmovement 0
	applymovement LOCALID_ARCHIE, Common_Movement_FaceUp
	applymovement LOCALID_COURTNEY, Common_Movement_FaceDown
	waitmovement 0
	applymovement LOCALID_TABITHA, Common_Movement_WalkLeft
	waitmovement 0
	applymovement LOCALID_TABITHA, Common_Movement_FaceDown
	applymovement OBJ_EVENT_ID_PLAYER, Common_Movement_FaceUp
	waitmovement 0
	call MtChimney_EventScript_PrepareMultiBattle
	multi_2_vs_2 TRAINER_TABITHA_MT_CHIMNEY, MtChimney_Text_TabithaDefeat, TRAINER_COURTNEY_MT_CHIMNEY, MtChimney_Text_CourtneyDefeat, TRAINER_ARCHIE_ALLY, TRAINER_BACK_PIC_RED
	specialvar VAR_RESULT, GetBattleOutcome
    compare VAR_RESULT, B_OUTCOME_LOST
    goto_if_eq MtChimney_EventScript_LostMultiBattle
	call MtChimney_EventScript_TabithaCourtneyLost
	applymovement OBJ_EVENT_ID_PLAYER, Common_Movement_FaceLeft
	waitmovement 0
	call MtChimney_EventScript_ArchieYouCanDoIt
	releaseall
	end
	
	
MtChimney_EventScript_Trigger2::
	lockall
	setvar VAR_MT_CHIMNEY_STATE, 1
	applymovement OBJ_EVENT_ID_PLAYER, Common_Movement_WalkUp
	waitmovement 0
	playse SE_PIN
	applymovement LOCALID_COURTNEY, Common_Movement_ExclamationMark
	applymovement OBJ_EVENT_ID_PLAYER, Common_Movement_FaceLeft
	waitmovement 0
	playbgm TRAINER_ENCOUNTER_MUSIC_MAGMA, FALSE
	namebox Courtney
	msgbox MtChimney_Text_CourtneyIntro
	closemessage
	hidenamebox
	playse SE_PIN
	applymovement LOCALID_TABITHA, Common_Movement_ExclamationMark
	applymovement OBJ_EVENT_ID_PLAYER, Common_Movement_FaceRight
	waitmovement 0
	applymovement LOCALID_TABITHA, Common_Movement_WalkLeft
	waitmovement 0
	namebox Tabitha
	msgbox MtChimney_Text_TabithaIntro
	closemessage
	hidenamebox
	fadedefaultbgm
	namebox Unknown
	msgbox MtChimney_Text_ArchieStop
	closemessage
	hidenamebox
	setobjectxyperm LOCALID_ARCHIE, 10, 17
	call MtChimney_EventScript_Trigger
	applymovement LOCALID_ARCHIE, Common_Movement_WalkRight
	applymovement OBJ_EVENT_ID_PLAYER, Common_Movement_WalkDown
	waitmovement 0
	applymovement LOCALID_ARCHIE, Common_Movement_FaceUp
	applymovement LOCALID_TABITHA, Common_Movement_FaceDown
	waitmovement 0
	applymovement LOCALID_COURTNEY, Common_Movement_WalkRight
	waitmovement 0
	applymovement LOCALID_COURTNEY, Common_Movement_FaceDown
	applymovement OBJ_EVENT_ID_PLAYER, Common_Movement_FaceUp
	waitmovement 0
	call MtChimney_EventScript_PrepareMultiBattle
	multi_2_vs_2 TRAINER_TABITHA_MT_CHIMNEY, MtChimney_Text_TabithaDefeat, TRAINER_COURTNEY_MT_CHIMNEY, MtChimney_Text_CourtneyDefeat, TRAINER_ARCHIE_ALLY, TRAINER_BACK_PIC_RED
	specialvar VAR_RESULT, GetBattleOutcome
    compare VAR_RESULT, B_OUTCOME_LOST
    goto_if_eq MtChimney_EventScript_LostMultiBattle
	call MtChimney_EventScript_TabithaCourtneyLost
	applymovement OBJ_EVENT_ID_PLAYER, Common_Movement_FaceRight
	waitmovement 0
	call MtChimney_EventScript_ArchieYouCanDoIt
	releaseall
	end

MtChimney_EventScript_TabithaCourtneyLost::
	playse SE_PIN
	applymovement LOCALID_TABITHA, Common_Movement_ExclamationMark
	applymovement LOCALID_COURTNEY, Common_Movement_ExclamationMark
	waitmovement 0
	namebox Courtney
	msgbox MtChimney_Text_CourtneyPostBattle
	applymovement LOCALID_TABITHA, Common_Movement_WalkInPlaceUp
	waitmovement 0
	namebox Tabitha
	msgbox MtChimney_Text_TabithaPostBattle
	closemessage
	hidenamebox
	applymovement LOCALID_TABITHA, Common_Movement_WalkInPlaceDown
	waitmovement 0
	namebox Tabitha
	msgbox MtChimney_Text_TabithaYouHaventSeen
	closemessage
	hidenamebox
	fadescreen FADE_TO_BLACK
	delay 16
	setobjectxyperm LOCALID_COURTNEY, 39, 0
	setobjectxyperm LOCALID_TABITHA, 39, 0
	removeobject LOCALID_TABITHA
	removeobject LOCALID_COURTNEY
	clearflag FLAG_HIDE_MT_CHIMNEY_TEAM_MAGMA
	fadescreen FADE_FROM_BLACK
	delay 16
	applymovement LOCALID_ARCHIE, Common_Movement_FacePlayer
	return

MtChimney_EventScript_LostMultiBattle::
	setvar VAR_MT_CHIMNEY_STATE, 0
	fadescreen FADE_TO_BLACK
	special SetCB2WhiteOut
	releaseall
	end


MtChimney_EventScript_PrepareMultiBattle::
    lockall
	namebox Archie
	msgbox PleasePick3Mons
	closemessage
	hidenamebox
    choose_mons
    compare VAR_RESULT, 0
    goto_if_eq script_NeedToChoose3ValidMons
    return

script_NeedToChoose3ValidMons::
	msgbox PleasePick3Mons
	closemessage
	hidenamebox
    choose_mons
    compare VAR_RESULT, 0
    goto_if_eq script_CancelBattle
    return

MtChimney_EventScript_ArchieYouCanDoIt::
	namebox Archie
	msgbox MtChimney_Text_ArchieYouCanDoIt
	closemessage
	hidenamebox
	applymovement OBJ_EVENT_ID_PLAYER, Common_Movement_WalkInPlaceDown
	applymovement LOCALID_ARCHIE, MtChimney_Movement_ArchieWalkDown
	waitmovement 0
	setvar VAR_MT_CHIMNEY_STATE, 2
	fadescreen FADE_TO_BLACK
	call MtChimney_OnTransition_PrepareTeamMagmaCheating
	special DrawWholeMapView
	fadescreen FADE_FROM_BLACK
	return

MtChimney_Movement_ArchieWalkDown:
	walk_down
	walk_down
	walk_down
	walk_down
	walk_down
	walk_down
	step_end

PleasePick3Mons::
	.string "DeberÃ¡s elegir 3 o\nmenos PokÃ©mon.$"

script_CancelBattle::
    goto MtChimney_EventScript_PrepareMultiBattle
    return

MtChimney_EventScript_Trigger::
	addobject LOCALID_ARCHIE
	playse SE_PIN
	applymovement LOCALID_COURTNEY, Common_Movement_ExclamationMark
	applymovement LOCALID_TABITHA, Common_Movement_ExclamationMark
	waitmovement 0
	applymovement LOCALID_COURTNEY, Common_Movement_FaceDown
	applymovement LOCALID_TABITHA, Common_Movement_FaceDown
	applymovement OBJ_EVENT_ID_PLAYER, Common_Movement_FaceDown
	waitmovement 0
	applymovement LOCALID_ARCHIE, MtChimney_Movement_ArchieApproachPlayerDown
	waitmovement 0
	applymovement OBJ_EVENT_ID_PLAYER, Common_Movement_WalkInPlaceDown
	waitmovement 0
	namebox Archie
	msgbox MtChimney_Text_ArchieDontWorry
	closemessage
	hidenamebox
	return
	

MtChimney_Movement_ArchieApproachPlayerDown:
	walk_up
	walk_up
	walk_up
	walk_up
	walk_up
	step_end

MtChimney_EventScript_Tabitha::
	msgbox MtChimney_Text_TabithaPostBattle, MSGBOX_AUTOCLOSE
	end

MtChimney_EventScript_Courtney::
	msgbox MtChimney_Text_CourtneyPostBattle, MSGBOX_AUTOCLOSE
	end

MtChimney_EventScript_Grunt2::
	trainerbattle_single TRAINER_GRUNT_MT_CHIMNEY_2, MtChimney_Text_Grunt2Intro, MtChimney_Text_Grunt2Defeat
	msgbox MtChimney_Text_Grunt2PostBattle, MSGBOX_AUTOCLOSE
	end

MtChimney_EventScript_BusyMagmaGrunt1::
	msgbox MtChimney_Text_TeamAquaAlwaysMessingWithPlans, MSGBOX_SIGN
	end

MtChimney_EventScript_BusyMagmaGrunt2::
	msgbox MtChimney_Text_MeteoritesPackAmazingPower, MSGBOX_SIGN
	end

MtChimney_EventScript_BusyMagmaGrunt3::
	msgbox MtChimney_Text_YouBetterNotMessWithUs, MSGBOX_SIGN
	end

MtChimney_EventScript_BusyMagmaGrunt4::
	msgbox MtChimney_Text_AquasNameSimilar, MSGBOX_SIGN
	end

MtChimney_EventScript_BusyMagmaGrunt5::
	msgbox MtChimney_Text_DouseThemInFire, MSGBOX_SIGN
	end

MtChimney_EventScript_BusyMagmaGrunt6::
	msgbox MtChimney_Text_KeepMakingMoreLand, MSGBOX_SIGN
	end

MtChimney_EventScript_Magcargo::
	playmoncry SPECIES_MAGCARGO, CRY_MODE_NORMAL
	msgbox MtChimney_Text_Magcargo, MSGBOX_SIGN
	end

MtChimney_EventScript_Qwilfish::
	playmoncry SPECIES_QWILFISH, CRY_MODE_NORMAL
	msgbox MtChimney_Text_Qwilfish, MSGBOX_SIGN
	end

MtChimney_EventScript_Krokorok::
	playmoncry SPECIES_KROKOROK, CRY_MODE_NORMAL
	msgbox MtChimney_Text_Krokorok, MSGBOX_SIGN
	end

MtChimney_EventScript_Pelipper::
	playmoncry SPECIES_PELIPPER, CRY_MODE_NORMAL
	msgbox MtChimney_Text_Pelipper, MSGBOX_SIGN
	end

MtChimney_EventScript_Sharpedo::
	playmoncry SPECIES_SHARPEDO, CRY_MODE_NORMAL
	msgbox MtChimney_Text_Sharpedo, MSGBOX_SIGN
	end

MtChimney_EventScript_Poochyena::
	playmoncry SPECIES_POOCHYENA, CRY_MODE_NORMAL
	msgbox MtChimney_Text_Poochyena, MSGBOX_SIGN
	end

MtChimney_EventScript_MeteoriteMachine::
	lockall
	goto_if_unset FLAG_DEFEATED_EVIL_TEAM_MT_CHIMNEY, MtChimney_EventScript_MachineOn
	goto_if_set FLAG_RECEIVED_METEORITE, MtChimney_EventScript_MachineOff
	msgbox MtChimney_Text_RemoveTheMeteorite, MSGBOX_YESNO
	goto_if_eq VAR_RESULT, NO, MtChimney_EventScript_LeaveMeteoriteAlone
	msgbox MtChimney_Text_PlayerRemovedMeteorite, MSGBOX_DEFAULT
	giveitem ITEM_METEORITE
	setflag FLAG_RECEIVED_METEORITE
	releaseall
	end

MtChimney_EventScript_LeaveMeteoriteAlone::
	msgbox MtChimney_Text_PlayerLeftMeteorite, MSGBOX_DEFAULT
	releaseall
	end

MtChimney_EventScript_MachineOff::
	msgbox MtChimney_Text_MachineMakesNoResponse, MSGBOX_DEFAULT
	releaseall
	end

MtChimney_EventScript_MachineOn::
	msgbox MtChimney_Text_MetoriteFittedOnMachine, MSGBOX_DEFAULT
	releaseall
	end

MtChimney_EventScript_RouteSign::
	msgbox MtChimney_Text_RouteSign, MSGBOX_SIGN
	end

MtChimney_EventScript_Shelby::
	trainerbattle_single TRAINER_SHELBY_1, MtChimney_Text_ShelbyIntro, MtChimney_Text_ShelbyDefeat, MtChimney_EventScript_DefeatedShelby
	specialvar VAR_RESULT, ShouldTryRematchBattle
	goto_if_eq VAR_RESULT, TRUE, MtChimney_EventScript_RematchShelby
	msgbox MtChimney_Text_ShelbyPostBattle, MSGBOX_DEFAULT
	release
	end

MtChimney_EventScript_DefeatedShelby::
	special PlayerFaceTrainerAfterBattle
	waitmovement 0
	msgbox MtChimney_Text_ShelbyRegister, MSGBOX_DEFAULT
	register_matchcall TRAINER_SHELBY_1
	release
	end

MtChimney_EventScript_RematchShelby::
	trainerbattle_rematch TRAINER_SHELBY_1, MtChimney_Text_ShelbyRematchIntro, MtChimney_Text_ShelbyRematchDefeat
	msgbox MtChimney_Text_ShelbyPostRematch, MSGBOX_AUTOCLOSE
	end

MtChimney_EventScript_Melissa::
	trainerbattle_single TRAINER_MELISSA, MtChimney_Text_MelissaIntro, MtChimney_Text_MelissaDefeat
	msgbox MtChimney_Text_MelissaPostBattle, MSGBOX_AUTOCLOSE
	end

MtChimney_EventScript_Sheila::
	trainerbattle_single TRAINER_SHEILA, MtChimney_Text_SheilaIntro, MtChimney_Text_SheilaDefeat
	msgbox MtChimney_Text_SheilaPostBattle, MSGBOX_AUTOCLOSE
	end

MtChimney_EventScript_Shirley::
	trainerbattle_single TRAINER_SHIRLEY, MtChimney_Text_ShirleyIntro, MtChimney_Text_ShirleyDefeat
	msgbox MtChimney_Text_ShirleyPostBattle, MSGBOX_AUTOCLOSE
	end

MtChimney_EventScript_Grunt1::
	trainerbattle_single TRAINER_GRUNT_MT_CHIMNEY_1, MtChimney_Text_Grunt1Intro, MtChimney_Text_Grunt1Defeat
	msgbox MtChimney_Text_Grunt1PostBattle, MSGBOX_AUTOCLOSE
	end

MtChimney_EventScript_Sawyer::
	trainerbattle_single TRAINER_SAWYER_1, MtChimney_Text_SawyerIntro, MtChimney_Text_SawyerDefeat, MtChimney_EventScript_SawyerDefeated
	specialvar VAR_RESULT, ShouldTryRematchBattle
	goto_if_eq VAR_RESULT, TRUE, MtChimney_EventScript_SawyerRematch
	msgbox MtChimney_Text_SawyerPostBattle, MSGBOX_DEFAULT
	release
	end

MtChimney_EventScript_SawyerDefeated::
	special PlayerFaceTrainerAfterBattle
	waitmovement 0
	msgbox MtChimney_Text_SawyerRegister, MSGBOX_DEFAULT
	register_matchcall TRAINER_SAWYER_1
	release
	end

MtChimney_EventScript_SawyerRematch::
	trainerbattle_rematch TRAINER_SAWYER_1, MtChimney_Text_SawyerRematchIntro, MtChimney_Text_SawyerRematchDefeat
	msgbox MtChimney_Text_SawyerPostRematch, MSGBOX_AUTOCLOSE
	end

MtChimney_Text_ArchieYouCanDoIt:
	.string "Ahora, {PLAYER}, voy a continuar a\n"
	.string "ayudar a mis Reclutas a combatir al\l"
	.string "Equipo Magma. EstÃ¡n atacÃ¡ndolos en\l"
	.string "grupo ahora y realmente me estÃ¡n\l"
	.string "cansando con su cobardÃ­a.\p"
	.string "Â¡TÃº puedes derrotar a {COLOR RED}Maxie{COLOR DARK_GRAY}!\n"
	.string "No te preocupes, que no es alguien que\l"
	.string "pueda preparar un âPlan Bâ.\p"
	.string "CrÃ©emeâ¦\p"
	.string "Bueno, sigue adelante, niÃ±{OA}, venceremos\n"
	.string "al Equipo Magma juntos.$"

MtChimney_Text_MeteoriteWillActivateVolcano:
	.string "Â¿Â¡QuÃ©!?\n"
	.string "El {COLOR RED}Meteorito{COLOR DARK_GRAY}â¦\l"
	.string "Ha sido desconectado de la fuente de\l"
	.string "poderâ¦\p"
	.string "Pero si llegamos antes que ese Archieâ¦\n"
	.string "Â¡Y-Y que todo el Equipo Aqua tambiÃ©n!\lÂ¿QuiÃ©n pudo ser?\pSanto Arceus, tendrÃ­a que haber traÃ­do a\nmis PokÃ©mon mÃ¡s fuertesâ¦$"

MtChimney_Text_MaxieIntro:
	.string "Un{A} niÃ±{OA}â¦ Â¡Â¿QuÃ© estÃ¡s haciendo aquÃ­!?\p"
	.string "CreÃ­ que Tabitha y Courtney serÃ­an\n"
	.string "defensa suficienteâ¦ Apuesto a que ese\l"
	.string "Archie te ha ayudadoâ¦\p"
	.string "Pero eso es lo de menos. El {COLOR LIGHT_RED SHADOW RED}Equipo Magma{COLOR DARK_GRAY SHADOW LIGHT_GRAY}\n"
	.string "y yo, {COLOR RED}su LÃ­der Maxie{COLOR DARK_GRAY}, tenemos objetivos\l"
	.string "tan grandes que este mero contratiempo\l"
	.string "no significa nada.\p"
	.string "La juventud es el futuro, Â¿Sabes?\n"
	.string "Por ese motivo, debo educarte.\p"
	.string "Al derrotarte, reactivarÃ© la mÃ¡quina, y\n"
	.string "con ella formarÃ© una {COLOR RED}Piedra Activadora{COLOR DARK_GRAY}\l"
	.string "con el poder suficiente para controlar\l"
	.string "al {COLOR LIGHT_RED SHADOW RED}Legendario Durmiente del Magma{COLOR DARK_GRAY SHADOW LIGHT_GRAY}â¦\l"
	.string "Entonces, Â¡Podremos cumplir nuestro\l"
	.string "objetivo!\pÂ¿Que cuÃ¡l es, preguntas? No, eso es\n"
	.string "para la siguiente clase.\p"
	.string "Y ahora, como es debido, dÃ©jame darte\n"
	.string "un examen que se quemarÃ¡ en tu\l"
	.string "memoria.$"



MtChimney_Text_MaxieYouHaventSeenLastOfMagma:
	.string "Â¿Â¡C-cÃ³mo!?\n"
	.string "Â¿QuÃ© quieres decir con eso?\p"
	.string "â¦ â¦ â¦ No importa, estarÃ© ahÃ­ en un\n"
	.string "minuto.\p"
	.string "Supongoâ¦ Que tendremos que proceder\n"
	.string "con el Plan de Emergenciaâ¦\l"
	.string "No creÃ­ que llegara a esto.\p"
	.string "No falles con esto, Â¿Entiendes?$"

MtChimney_Text_MaxieYouHaventSeenLastOfMagma2:
	.string "Lo siento, niÃ±{OA}, pero los adultos tenemos\n"
	.string "cosas por hacer. La prÃ³xima vez que nos\l"
	.string "veamos, no me contendrÃ©.$"

MtChimney_Text_TabithaIntro:
	.string "Veo que nuestros Reclutas no poseen\nsuficiente poder para derrotar\la un{A} simple niÃ±{OA}.\p"
	.string "Pero llegas tarde, Â¿No lo ves?\p"
	.string "Â¡Nuestro Jefe liberarÃ¡ el poder\ndel Meteorito!$"

MtChimney_Text_TabithaDefeat:
	.string "Equipoâ¦ Aquaâ¦$"

MtChimney_Text_TabithaPostBattle:
	.string "Â¡Jefe, es tu oportunidad!$"

MtChimney_Text_CourtneyIntro:
	.string "Intrus{OA}â¦ Rango de visiÃ³nâ¦\n"
	.string "Analizandoâ¦\p"
	.string "â¦ â¦ â¦\p"
	.string "Procediendoâ¦ Protocolo Bâ¦$"

MtChimney_Text_CourtneyDefeat:
	.string "Interesanteâ¦$"

MtChimney_Text_CourtneyPostBattle:
	.string "Maxieâ¦ Lo siento tantoâ¦\n"
	.string "No pudeâ¦ Detenerâ¦$"

MtChimney_Text_ArchieStop:
	.string "Â¿Atacando a un{A} niÃ±{OA} indefens{OA}?\p"
	.string "CompÃ³rtense como los adultos que son.$"

MtChimney_Text_ArchieDontWorry:
	.string "No te preocupes, {PLAYER}, estamos en\n"
	.string "esta misiÃ³n para detener al Equipo\l"
	.string "Magma juntos. No dejarÃ© que te ataquen\l"
	.string "entre dos de esa manera, Â¡Ni yo que soy\l"
	.string "un pirata harÃ­a trucos tan sucios!\p"
	.string "Principalmente porque no los necesitoâ¦$"

MtChimney_Text_TabithaYouHaventSeen:
	.string "Â¡N-{PAUSE 8}n-{PAUSE 16}n-{PAUSE 32}NO ES\n"
	.string "LO Ã-{PAUSE 16}ÃLTIMO QUE VERÃN DE MÃ!\l"
	.string "Â¡Muajajaja!$"

MtChimney_Text_Grunt2Intro:
	.string "Â¡Nos del Equipo Magma estamos haciendo\n"
	.string "lo posible para mejorar la vida de los\l"
	.string "humanos!\p"
	.string "Todos serÃ¡n felices si ganamos.$"

MtChimney_Text_Grunt2Defeat:
	.string "Â¿Â¡CÃMO QUE PERDÃ!?$"

MtChimney_Text_Grunt2PostBattle:
	.string "Nuestro Jefe siempre dice que todos\n"
	.string "serÃ¡n felices si Ã©l gana, peroâ¦ Â¿PorquÃ©\l"
	.string "entonces somos tan odiados?$"

MtChimney_Text_Grunt1Intro:
	.string "Si hubiera mÃ¡s tierra, Â¡PodrÃ­a comprarme\n"
	.string "mi propia casa!\p"
	.string "Supongo que aÃºn asÃ­ habrÃ­a que\n"
	.string "comprarla, y seguro segurÃ­a siendo\l"
	.string "carÃ­simaâ¦$"

MtChimney_Text_Grunt1Defeat:
	.string "Â¿Es la falta de tierra el motivo de la\n"
	.string "falta de casas para la gente?$"

MtChimney_Text_Grunt1PostBattle:
	.string "Creo que el verdadero enemigo aquÃ­ es\n"
	.string "el capitalismo, Â¿No?\p"
	.string "Â¿SerÃ¡ que puedo convencer al Jefe de\n"
	.string "usar el poder que quiere reunir para\l"
	.string "expandir el comunismo?$"

MtChimney_Text_TeamAquaAlwaysMessingWithPlans:
	.string "Estos del Equipo Aqua, siempre\n"
	.string "persiguiÃ©ndonosâ¦\p"
	.string "Â¡Â¿Tan enamorados de nosotros estÃ¡n?!$"

MtChimney_Text_MeteoritesPackAmazingPower:
	.string "Quiero un helado.$"

MtChimney_Text_YouBetterNotMessWithUs:
	.string "No me gustan estos trajesâ¦ Â¡Hace que\n"
	.string "todos nos veamos iguales! Â¡Me hace\l"
	.string "morirme de calor!$"

MtChimney_Text_AquasNameSimilar:
	.string "Son el Equipo Aquaâ¦ Somos el Equipo\n"
	.string "Magmaâ¦ Â¡Eligieron un nombre tan\l"
	.string "parecido para confundirme a mÃ­!$"

MtChimney_Text_DouseThemInFire:
	.string "Â¡SÃ­! Â¡AcÃ¡balos!$"

MtChimney_Text_KeepMakingMoreLand:
	.string "Â¡SÃ­! Â¡Magma!$"

MtChimney_Text_Sharpedo:
	.string "Â¡SHAR! Â¡SHAAARRRGGGHHH!$"

MtChimney_Text_ArchieGoStopTeamMagma:
	.string "Â¡SabÃ­a que vendrÃ­as, {PLAYER}!\p"
	.string "Â¡Grrr! Tengo que ir a derrotar a Maxie, si\n"
	.string "logra encender esa mÃ¡quina, Â¡El volcÃ¡n\l"
	.string "harÃ¡ erupciÃ³n!$"

MtChimney_Text_ArchieIHaveMyHandsFull:
	.string "{PLAYER}, odio tener que pedirle esto\n"
	.string "a un{A} niÃ±{OA}, pero necesito que vayas a\l"
	.string "derrotar a Maxie por mÃ­, Â¿Lo harÃ­as?$"

MtChimney_Text_ArchieThankYou:
	.string "Â¡{PLAYER}!\p"
	.string "Â¡Ja ja ja! Â¡SabÃ­a que podÃ­as hacerlo!\l"
	.string "â¦ â¦ â¦ â¦\l"
	.string "Ah, Â¿Eso?\p"
	.string "Â¡No te preocupes, cosa de adultos!\n"
	.string "Pero lo que quiero saber esâ¦ Â¿De quÃ©\l"
	.string "lado estÃ¡s, niÃ±{OA}?\l"
	.string "Â¡Ah, no importa, siempre y cuando nos\l"
	.string "ayudes a derrotar a esos idiotas!\p"
	.string "Espero nos volvamos a ver pronto,\n"
	.string "{PLAYER}.$"

MtChimney_Text_MagmaOutnumbersUs:
	.string "Maldita seaâ¦ Â¡El Equipo Magma\n"
	.string "nos supera en nÃºmero, no\lpodemos contra ellos asÃ­!$"

MtChimney_Text_LessHabitatForWaterPokemon:
	.string "Â¡Pero si expanden la tierra,\n"
	.string "matarÃ¡n a los PokÃ©mon del ocÃ©ano!$"

MtChimney_Text_MagmasNameSimilar:
	.string "Son el Equipo Magmaâ¦ Somos el Equipo\n"
	.string "Aquaâ¦ Â¡Eligieron un nombre tan\l"
	.string "parecido para confundirme a mÃ­!$"

MtChimney_Text_Poochyena:
	.string "Â¡Pochyyyyy!$"

MtChimney_Text_Magcargo:
	.string "Â¡Mmmmmaaaagggg!$"

MtChimney_Text_Qwilfish:
	.string "Â¡Qwil! Â¡Qwiiil!$"

MtChimney_Text_Krokorok:
	.string "Â¡Krookoroook!$"

MtChimney_Text_Pelipper:
	.string "Â¡Peeeeliiiii!$"

MtChimney_Text_LavaCookiesJust200:
	.string "LAVA COOKIES are MT. CHIMNEY's local\n"
	.string "specialty.\p"
	.string "Try one. It's just Â¥200.$"


MtChimney_Text_ThankYouDear:
	.string "Thank you, dear!$"

MtChimney_Text_YouveNotGotTheMoney:
	.string "Oh, dear. You can't buy a thing if\n"
	.string "you've not got the money.$"

MtChimney_Text_OhFineThen:
	.string "Oh, fine then.$"

MtChimney_Text_MetoriteFittedOnMachine:
	.string "A METEORITE is fitted on a mysterious\n"
	.string "machineâ¦\p"
	.string "The machine seems to be storing\n"
	.string "energy in the METEORITE.$"

MtChimney_Text_RemoveTheMeteorite:
	.string "A METEORITE is fitted on a mysterious\n"
	.string "machineâ¦\p"
	.string "Do you want to remove the METEORITE?$"

MtChimney_Text_PlayerRemovedMeteorite:
	.string "{PLAYER} removed the METEORITE from\n"
	.string "the mysterious machine.$"

MtChimney_Text_PlayerLeftMeteorite:
	.string "{PLAYER} left the METEORITE where\n"
	.string "it was.$"

MtChimney_Text_MachineMakesNoResponse:
	.string "This mysterious machineâ¦\n"
	.string "It makes no response whatsoever.$"

MtChimney_Text_RouteSign:
	.string "{DOWN_ARROW} JAGGED PATH\n"
	.string "LAVARIDGE TOWN AHEAD$"

MtChimney_Text_ShelbyIntro:
	.string "I've been to the hot springs and\n"
	.string "refreshed my tired bones.\l"
	.string "Right now I'm feeling strong!$"

MtChimney_Text_ShelbyDefeat:
	.string "Oh, my goodness.\n"
	.string "Now, aren't you something!$"

MtChimney_Text_ShelbyPostBattle:
	.string "Well, well, I've lost. I can't call\n"
	.string "myself an EXPERT now, can I?$"

MtChimney_Text_ShelbyRegister:
	.string "Thank you, child. It was fun, as if\n"
	.string "I were battling my own grandchild.\p"
	.string "Please, come see me again for\n"
	.string "a rematch.$"

MtChimney_Text_ShelbyRematchIntro:
	.string "If you can mesh your heart with those\n"
	.string "of your POKÃ©MON, why, you should be\l"
	.string "able to achieve great things.$"

MtChimney_Text_ShelbyRematchDefeat:
	.string "Oh, my goodness.\n"
	.string "Now, aren't you something!$"

MtChimney_Text_ShelbyPostRematch:
	.string "Perhaps your heart has become one\n"
	.string "with the hearts of your POKÃ©MON.$"

MtChimney_Text_MelissaIntro:
	.string "I've got the fire in me, baby.\n"
	.string "I can't stand it! I have to battle!$"

MtChimney_Text_MelissaDefeat:
	.string "Ooh, that was a scorching-hot match!$"

MtChimney_Text_MelissaPostBattle:
	.string "The heat of MT. CHIMNEY warms\n"
	.string "me up, baby!$"

MtChimney_Text_SheilaIntro:
	.string "I've finally made it to MT. CHIMNEY.\n"
	.string "I want to make my POKÃ©MON battle!$"

MtChimney_Text_SheilaDefeat:
	.string "The way you battleâ¦\n"
	.string "It's like a MT. CHIMNEY eruption!$"

MtChimney_Text_SheilaPostBattle:
	.string "Like I said, I've finally made it to\n"
	.string "MT. CHIMNEY. It would be a shame if\l"
	.string "I only do a little sightseeingâ¦\p"
	.string "I want to get in some battles and buy\n"
	.string "COOKIES as souvenirs.$"

MtChimney_Text_ShirleyIntro:
	.string "Since I bathed in the hot springs,\n"
	.string "I've been feeling great!\l"
	.string "I'm sure I'm going to win!$"

MtChimney_Text_ShirleyDefeat:
	.string "Yowch!\n"
	.string "I'm getting a chill out of the water.$"

MtChimney_Text_ShirleyPostBattle:
	.string "I'll have to take another dip in the\n"
	.string "hot springs. Want to join me?\p"
	.string "Just joking!$"

MtChimney_Text_SawyerIntro:
	.string "This is one fine mountain! Plenty of\n"
	.string "hot people around for company!$"

MtChimney_Text_SawyerDefeat:
	.string "Oh, you're a real firebrand, too!$"

MtChimney_Text_SawyerPostBattle:
	.string "I think I need a dip in LAVARIDGE\n"
	.string "HOT SPRING with the locals!$"

MtChimney_Text_SawyerRegister:
	.string "I like little fireballs like you.\n"
	.string "Let me register you in my POKÃ©NAV.$"

MtChimney_Text_SawyerRematchIntro:
	.string "I'm happily surrounded by hot people\n"
	.string "around these parts. I won't lose!$"

MtChimney_Text_SawyerRematchDefeat:
	.string "Gosh, you're still the same\n"
	.string "firebrand as before!$"

MtChimney_Text_SawyerPostRematch:
	.string "Actually, it really is hot here.\n"
	.string "I'm overdressed for these parts.$"

`
